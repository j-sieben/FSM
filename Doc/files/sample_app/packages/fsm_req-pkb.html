<!DOCTYPE html>

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>fsm_req.pkb</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css" /><script type="text/javascript" src="../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="FSM_REQ_Body"></a><a name="Topic42"></a><div class="CTopic TClass LSQL first">
 <div class="CTitle">FSM_REQ Body</div>
 <div class="CBody"><p>Package to implement the FSM related logic for requests</p><div class="CHeading">Author</div><p>Juergen Sieben, ConDeS GmbH</p></div>
</div>

<a name="FSM_REQ_Body.Helper-Methods"></a><a name="Topic43"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Helper-Methods</div>
</div>

<a name="FSM_REQ_Body.persist"></a><a name="Topic44"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">persist</div>
 <div id="NDPrototype44" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> persist(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_req&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> fsm_req_type</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method to persist an instance or changes for an instance</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_req<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> fsm_req_type</div></td><td class="CDLDefinition"><p>Instance of FSM_REQ_TYPE to persist</p></td></tr></table></div>
</div>

<a name="FSM_REQ_Body.Event-Handlers"></a><a name="Topic45"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Event-Handlers</div>
</div>

<a name="FSM_REQ_Body.raise_default"></a><a name="Topic46"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">raise_default</div>
 <div id="NDPrototype46" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> raise_default(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_req&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> fsm_req_type,</td></tr><tr><td class="PName first">p_fev_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> binary_integer</div></div>
 <div class="CBody"><p>Generic event handler, just proceeds to the next possible event.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_req<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> fsm_req_type</div></td><td class="CDLDefinition"><p>Instance of FSM_REQ_TYPE</p></td></tr><tr><td class="CDLEntry">p_fev_id<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Event to throw</p></td></tr></table><div class="CHeading">Returns</div><p>One of the constants FSM.C_OK or FSM.C_ERROR indicating whether the event could be raised successfully</p><div class="CHeading">Throws</div><table class="CDefinitionList"><tr><td class="CDLEntry">msg.FSM_NEXT_STATUS_NU_ERR</td><td class="CDLDefinition"><p>if more than one next status is possible.&nbsp; This error must be circumvented by creating a separate event handler which deterministically decides on the next status</p></td></tr></table></div>
</div>

<a name="FSM_REQ_Body.raise_check"></a><a name="Topic47"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">raise_check</div>
 <div id="NDPrototype47" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> raise_check(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_req&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> fsm_req_type</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> binary_integer</div></div>
 <div class="CBody"><p>Decides how the decision on granting rights must be made.</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_req<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> fsm_req_type</div></td><td class="CDLDefinition"><p>Instance of FSM_REQ_TYPE</p></td></tr></table><div class="CHeading">Returns</div><p>One of the constants FSM.C_OK or FSM.C_ERROR indicating whether the event could be raised successfully</p><div class="CHeading">Throws</div><table class="CDefinitionList"><tr><td class="CDLEntry">msg.FSM_NEXT_STATUS_NU_ERR</td><td class="CDLDefinition"><p>if more than one next status is possible.&nbsp; This error must be circumvented by creating a separate event handler which deterministically decides on the next status</p></td></tr></table></div>
</div>

<a name="FSM_REQ_Body.raise_nil"></a><a name="Topic48"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">raise_nil</div>
 <div id="NDPrototype48" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> raise_nil(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_req&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> fsm_req_type</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> binary_integer</div></div>
 <div class="CBody"><p>Does nothing.</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_req<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> fsm_req_type</div></td><td class="CDLDefinition"><p>Instance of FSM_REQ_TYPE</p></td></tr></table><div class="CHeading">Returns</div><p>One of the constants FSM.C_OK or FSM.C_ERROR indicating whether the event could be raised successfully</p><div class="CHeading">Throws</div><table class="CDefinitionList"><tr><td class="CDLEntry">msg.FSM_NEXT_STATUS_NU_ERR</td><td class="CDLDefinition"><p>if more than one next status is possible.&nbsp; This error must be circumvented by creating a separate event handler which deterministically decides on the next status</p></td></tr></table></div>
</div>

<a name="FSM_REQ_Body.Interface"></a><a name="Topic49"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Interface</div>
</div>

<a name="FSM_REQ_Body.create_fsm_req"></a><a name="Topic50"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">create_fsm_req</div>
 <div id="NDPrototype50" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> create_fsm_req(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_req&nbsp;</td><td class="PType"><span class="SHKeyword">in out nocopy</span> fsm_req_type,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_req_id&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> fsm_requests.req_id<span class="SHKeyword">%type</span></td><td class="PDefaultValueSeparator">&nbsp;<span class="SHKeyword">default</span>&nbsp;</td><td class="PDefaultValue last"><span class="SHKeyword">null</span>,</td></tr><tr><td class="PName first">p_req_fst_id&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> fsm_status_v.fst_id<span class="SHKeyword">%type</span></td><td class="PDefaultValueSeparator">&nbsp;<span class="SHKeyword">default</span>&nbsp;</td><td class="PDefaultValue last">fsm_fst.REQ_CREATED,</td></tr><tr><td class="PName first">p_req_fev_list&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> fsm_events_v.fev_id<span class="SHKeyword">%type</span></td><td class="PDefaultValueSeparator">&nbsp;<span class="SHKeyword">default</span>&nbsp;</td><td class="PDefaultValue last"><span class="SHKeyword">null</span>,</td></tr><tr><td class="PName first">p_req_rtp_id&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> fsm_request_types.rtp_id<span class="SHKeyword">%type</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_req_rre_id&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> fsm_requestors.rre_id<span class="SHKeyword">%type</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_req_text&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> fsm_requests.req_text<span class="SHKeyword">%type</span></td><td></td><td class="last"></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>See <a href="../../../index.html#File:sample_app/packages/fsm_req.pks:FSM_REQ.create_fsm_req" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,8);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >FSM_REQ.create_fsm_req</a></p></div>
</div>

<a name="FSM_REQ_Body.create_fsm_req(2)"></a><a name="Topic51"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">create_fsm_req</div>
 <div id="NDPrototype51" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> create_fsm_req(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_req&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> fsm_req_type,</td></tr><tr><td class="PName first">p_req_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> fsm_requests.req_id<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>See <a href="../../../index.html#File:sample_app/packages/fsm_req.pks:FSM_REQ.create_fsm_req" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,8);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >FSM_REQ.create_fsm_req</a></p></div>
</div>

<a name="FSM_REQ_Body.persist_request"></a><a name="Topic52"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">persist_request</div>
 <div id="NDPrototype52" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> persist_request(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_req_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">number</span>,</td></tr><tr><td class="PName first">p_req_rtp_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_req_rre_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_req_text&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>See <a href="../../../index.html#File:sample_app/packages/fsm_req.pks:FSM_REQ.persist_request" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,10);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >FSM_REQ.persist_request</a></p></div>
</div>

<a name="FSM_REQ_Body.raise_event"></a><a name="Topic53"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">raise_event</div>
 <div id="NDPrototype53" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> raise_event(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_req&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> fsm_req_type,</td></tr><tr><td class="PName first">p_fev_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> fsm_events_v.fev_id<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> binary_integer</div></div>
 <div class="CBody"><p>See <a href="../../../index.html#File:sample_app/packages/fsm_req.pks:FSM_REQ.raise_event" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,11);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >FSM_REQ.raise_event</a></p></div>
</div>

<a name="FSM_REQ_Body.raise_event(2)"></a><a name="Topic54"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">raise_event</div>
 <div id="NDPrototype54" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> raise_event(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_req_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> fsm_objects_v.fsm_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_fev_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> fsm_events_v.fev_id<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>See <a href="../../../index.html#File:sample_app/packages/fsm_req.pks:FSM_REQ.raise_event" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,11);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >FSM_REQ.raise_event</a></p></div>
</div>

<a name="FSM_REQ_Body.set_status"></a><a name="Topic55"></a><div class="CTopic TFunction LSQL last">
 <div class="CTitle">set_status</div>
 <div id="NDPrototype55" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> set_status(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_req&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> fsm_req_type</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> binary_integer</div></div>
 <div class="CBody"><p>See <a href="../../../index.html#File:sample_app/packages/fsm_req.pks:FSM_REQ.set_status" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >FSM_REQ.set_status</a></p></div>
</div>

</body></html>
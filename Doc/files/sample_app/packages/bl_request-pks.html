<!DOCTYPE html>

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>bl_request.pks</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css" /><script type="text/javascript" src="../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="BL_REQUEST"></a><a name="Topic26"></a><div class="CTopic TClass LSQL first">
 <div class="CTitle">BL_REQUEST</div>
 <div class="CBody"><p>Business logic package for the request application</p><div class="CHeading">Author</div><p>Juergen Sieben, ConDeS GmbH</p></div>
</div>

<a name="BL_REQUEST.Constants"></a><a name="Topic27"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Constants</div>
</div>

<a name="BL_REQUEST.Public_Constants"></a><a name="Topic28"></a><div class="CTopic TConstant LSQL">
 <div class="CTitle">Public Constants</div>
 <div class="CBody"><table class="CDefinitionList"><tr><td class="CDLEntry"><a name="BL_REQUEST.C_GRANT_AUTOMATICALLY"></a><a name="Topic29"></a>C_GRANT_AUTOMATICALLY</td><td class="CDLDefinition"><p>Requested privilege is granted automatically</p></td></tr><tr><td class="CDLEntry"><a name="BL_REQUEST.C_GRANT_MANUALLY"></a><a name="Topic30"></a>C_GRANT_MANUALLY</td><td class="CDLDefinition"><p>Requested privilege must be granted manually</p></td></tr><tr><td class="CDLEntry"><a name="BL_REQUEST.C_GRANT_SUPERVISOR"></a><a name="Topic31"></a>C_GRANT_SUPERVISOR</td><td class="CDLDefinition"><p>Requested privilege must be granted manually by a user with supervisor role</p></td></tr></table></div>
</div>

<a name="BL_REQUEST.Functions"></a><a name="Topic32"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Functions</div>
</div>

<a name="BL_REQUEST.merge_request_type"></a><a name="Topic33"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">merge_request_type</div>
 <div id="NDPrototype33" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> merge_request_type(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_row&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> fsm_request_types_vw<span class="SHKeyword">%rowtype</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method to persist changes to or create new request types</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_row<div class="CDLParameterType"><span class="SHKeyword">in</span> fsm_request_types_vw<span class="SHKeyword">%rowtype</span></div></td><td class="CDLDefinition"><p>Instance of FSM_REQUEST_TYPES_VW</p></td></tr></table></div>
</div>

<a name="BL_REQUEST.merge_request_type(2)"></a><a name="Topic34"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">merge_request_type</div>
 <div id="NDPrototype34" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> merge_request_type(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_rtp_id&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_rtp_name&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_rtp_description&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_rtp_active&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> pit_util.flag_type</td><td class="PDefaultValueSeparator">&nbsp;<span class="SHKeyword">default</span>&nbsp;</td><td class="PDefaultValue last">pit_util.C_TRUE</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method to persist changes to or create new request types. Overload with explicit parameters</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_rtp_id<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>ID of the request type</p></td></tr><tr><td class="CDLEntry">p_rtp_name<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Display name</p></td></tr><tr><td class="CDLEntry">p_rtp_description<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Optional description</p></td></tr><tr><td class="CDLEntry">p_rtp_active<div class="CDLParameterType"><span class="SHKeyword">in</span> pit_util.flag_type</div></td><td class="CDLDefinition"><p>Flag to indicate whether the request type is in use actually</p></td></tr></table></div>
</div>

<a name="BL_REQUEST.delete_request_type"></a><a name="Topic35"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">delete_request_type</div>
 <div id="NDPrototype35" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> delete_request_type(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_row&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> fsm_request_types_vw<span class="SHKeyword">%rowtype</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method to delete a request type. Will throw an exception if referenced by requests</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_row<div class="CDLParameterType"><span class="SHKeyword">in</span> fsm_request_types_vw<span class="SHKeyword">%rowtype</span></div></td><td class="CDLDefinition"><p>Instance of FSM_REQUEST_TYPES_VW</p></td></tr></table></div>
</div>

<a name="BL_REQUEST.merge_requestor"></a><a name="Topic36"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">merge_requestor</div>
 <div id="NDPrototype36" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> merge_requestor(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_rre_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_rre_name&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_rre_description&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method to persist changes to or create new requestors. Overload with explicit parameters</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_rre_id<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>ID of the requestor</p></td></tr><tr><td class="CDLEntry">p_rre_name<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Display name</p></td></tr><tr><td class="CDLEntry">p_rre_description<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Optional description</p></td></tr></table></div>
</div>

<a name="BL_REQUEST.delete_requetor"></a><a name="Topic37"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">delete_requetor</div>
 <div class="CBody"><p>Method to delete a requestor. Will throw an exception if referenced by requests</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_row</td><td class="CDLDefinition"><p>Instance of FSM_REQUESTORS_VW</p></td></tr></table></div>
</div>

<a name="BL_REQUEST.merge_request"></a><a name="Topic38"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">merge_request</div>
 <div id="NDPrototype38" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> merge_request(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_row&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> fsm_requests_vw<span class="SHKeyword">%rowtype</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method to persist changes or create new requests</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_row<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> fsm_requests_vw<span class="SHKeyword">%rowtype</span></div></td><td class="CDLDefinition"><p>Instance of FSM_REQUESTS_VW</p></td></tr></table></div>
</div>

<a name="BL_REQUEST.merge_request(2)"></a><a name="Topic39"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">merge_request</div>
 <div id="NDPrototype39" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> merge_request(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_req_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> <span class="SHKeyword">number</span>,</td></tr><tr><td class="PName first">p_req_rtp_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_req_rre_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_req_text&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method to persist changes to or create new requests. Overload with explicit parameters</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_req_id<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> <span class="SHKeyword">number</span></div></td><td class="CDLDefinition"><p>ID of the request</p></td></tr><tr><td class="CDLEntry">p_req_rtp_id<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Reference to the request type</p></td></tr><tr><td class="CDLEntry">p_req_rre_id<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Reference to the requestor</p></td></tr><tr><td class="CDLEntry">p_req_text<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Request in textual form</p></td></tr></table></div>
</div>

<a name="BL_REQUEST.delete_request"></a><a name="Topic40"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">delete_request</div>
 <div id="NDPrototype40" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> delete_request(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_row&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> fsm_requests_vw<span class="SHKeyword">%rowtype</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method to delete a request</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_row<div class="CDLParameterType"><span class="SHKeyword">in</span> fsm_requests_vw<span class="SHKeyword">%rowtype</span></div></td><td class="CDLDefinition"><p>Instance of FSM_REQUESTS_VW</p></td></tr></table></div>
</div>

<a name="BL_REQUEST.get_grant_mode"></a><a name="Topic41"></a><div class="CTopic TFunction LSQL last">
 <div class="CTitle">get_grant_mode</div>
 <div id="NDPrototype41" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> get_grant_mode(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_rtp_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> fsm_request_types.rtp_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_rre_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> fsm_requestors.rre_id<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> pls_integer</div></div>
 <div class="CBody"><p>Method to decide on how to grant a right. Is used to decide whether a right may be granted automatically, needs confirmation or a supervisor account</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_rtp_id<div class="CDLParameterType"><span class="SHKeyword">in</span> fsm_request_types.rtp_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Type of the right to be granted</p></td></tr><tr><td class="CDLEntry">p_rre_id<div class="CDLParameterType"><span class="SHKeyword">in</span> fsm_requestors.rre_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Requestor</p></td></tr></table><div class="CHeading">Returns</div><p>One of the constants C_GRANT_... indicating how to grant a right</p></div>
</div>

</body></html>